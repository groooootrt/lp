!function(){"use strict";var a,b=avm.require("jquery"),c=avm.require("avast.web.waypoints"),d=b(document),e=b(window),f=b("html, body"),g=b("body"),h=b(".js-section"),i=b(".js-expand-toggle"),j=i.height(),k=b(".js-expand-area"),l=b("#main-header"),m=b("#top"),n=0,o=[],p={getHighestElement:function(a){var c=[];return a.each(function(){c.push(b(this).outerHeight())}),a.eq(c.indexOf(Math.max.apply(Math,c)))},scrollDirection:function(){var b=e.scrollTop();a=b>n?"down":"up",n=b},scrollToSection:function(a){var c=b(a.target),d=i.index(c);f.animate({scrollTop:k.eq(d).offset().top-j},1e3)},waypointing:function(){var d=6*j;h.each(function(f){var g=b(this),h=d,k=g.offset().top;e.on("scroll",function(){"down"===a&&c(g,h)||k<e.scrollTop()?i.eq(f).css({bottom:"auto",position:"absolute",top:"0px"}):"up"===a&&k+h>e.scrollTop()+e.height()&&i.eq(f).css({bottom:o[f].bottom,position:"fixed",top:"auto"})}),d-=j})},onLoadWaypointing:function(){var a=e.scrollTop(),d=6*j,f=5*j;h.each(function(e){var g=b(this),h=d,k=g.offset().top;c(g,h)||k<a?i.eq(e).css({bottom:"auto",position:"absolute",top:"0px"}):i.eq(e).css({bottom:f+"px",position:"fixed",top:"auto"}),o.push({bottom:f}),d-=j,f-=j})},init:function(){var a=this;g.addClass("can-animate"),i.addClass("expanded"),i.next(k).addClass("expanded"),e.on("scroll",a.scrollDirection),a.onLoadWaypointing(),a.waypointing(),i.on("click",a.scrollToSection)},checkViewport:function(){var a=b(this.getHighestElement(k)),c=a.height()+5*j<e.height(),d=l.outerHeight()+m.outerHeight()+6*j<e.height();return!(!c||!d)},shutdown:function(){var a=function(){var a=b(this);a.toggleClass("expanded"),a.next(k).toggleClass("expanded")};i.off("click",self.scrollToSection),i.off("click"),setTimeout(function(){i.on("click",a)},10),g.removeClass("can-animate"),e.off("scroll"),i.removeClass("expanded"),i.next(k).removeClass("expanded"),i.css({bottom:"auto",position:"absolute",top:"0px"})},initialCheck:function(){var a=this;k.addClass("expanded"),a.checkViewport()?a.init():(k.removeClass("expanded"),a.shutdown())}};d.ready(function(){p.initialCheck()}),e.on("resize",function(){p.initialCheck()})}();
//# sourceMappingURL=how-avast-protects-you.js.map