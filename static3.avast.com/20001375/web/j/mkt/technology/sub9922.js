"use strict";var ScrollController={controller:new ScrollMagic.Controller({vertical:!0})},SubpageNavigation={$items:$(".sp-nav__item"),hoveredClass:"sp-nav__item--hovered",dimmedClass:"sp-nav__item--dimmed",initHandler:function(){var a=this;w.device.mobile||this.$items.mouseenter(function(b){a.$items.not(b.currentTarget).addClass(a.dimmedClass),$(b.currentTarget).addClass(a.hoveredClass)}).mouseleave(function(b){a.$items.removeClass([a.dimmedClass,a.hoveredClass].join(" "))})}};w.autoHandle(SubpageNavigation);var PerformanceCards={$root:$(".sp-graphics__cards, .av-cards"),scene:null,cardsTimeline:[],cardsAnimation:new TimelineMax,selectors:{card:".sp-graphics__card, .av-card",cardStatic:".av-cards-static",graph:".card__graph",bar:".card__graph-bar",label:".card__graph-label",heading:".card__heading",perex:".card__perex"},vars:function(){this.$cards=this.$root.find(this.selectors.card)},initHandler:function(){this.vars(),this.prepareTimelines(),this.scene=new ScrollMagic.Scene({triggerElement:this.$root[0],triggerHook:.85,reverse:!1}).setTween(this.cardsAnimation.add(this.cardsTimeline,0,"normal",.45)).addTo(ScrollController.controller)},prepareTimelines:function(){var a=this;this.$cards.each(function(b,c){a.animateCards($(c),b)})},animateCards:function(a,b){this.cardsTimeline[b]=new TimelineMax({pause:!0});var c=a.find(this.selectors.graph),d=c.find(this.selectors.bar),e=c.find(this.selectors.label),f=a.find(this.selectors.heading),g=a.find(this.selectors.perex);a.hasClass("av-card-static")||this.cardsTimeline[b].to(a,1,{opacity:1,y:0,ease:Power3.easeOut}),this.cardsTimeline[b].staggerTo(d,1,{cycle:{height:[50,25]},opacity:1,ease:Power1.easeOut},.15,"animContent-=0.8").staggerTo(e,1,{opacity:1,ease:Power3.easeOut},.15,"animContent-=0.8").add(AnimationNumber.create(f,1,Power3.easeOut,parseInt(f.data("number")),"%n"),"animContent-=0.8").to(g,1,{opacity:1,y:0,ease:Power3.easeOut},"animContent-=0.8")}};w.autoHandle(PerformanceCards);var $pathImgAssets="undefined"!=typeof staticPath?staticPath:"",SubpageAnimationController={animations:{malware:AnimationMalware,ai:AnimationAi,loc:AnimationLocation,sec:AnimationSecurity,dev:AnimationDevice,layers:AnimationLayers},$header:$(".sp-intro"),headerScene:null,headerAnimation:null,initHandler:function(){var a=this,b=this.$header.find(".sp-intro__svg-placeholder"),c=b.data("svg");if(this.canShowSvgAnimations()){var d=$pathImgAssets+"i/mkt/technology/svg/unique/svg-"+c+".svg";SvgLoader.load(d,function(d){b[0].innerHTML=d,b.children().addClass("sp-intro__svg"),b.children().unwrap(),a.headerAnimation=a.animations[c],a.headerScene=new ScrollMagic.Scene({triggerElement:a.$header[0],triggerHook:0,duration:a.$header.outerHeight()}).on("enter",function(){a.headerAnimation.play()}).on("leave",function(){a.headerAnimation.pause()}).addTo(ScrollController.controller)})}else{var e=$pathImgAssets+"i/mkt/technology/svg/raster/svg-"+c+"__2.png";Preload.image({0:e},function(a,c){var d=$('<img class="sp-intro__svg"/>');d[0].src=c,b.replaceWith(d)})}$(".svg-placeholder").each(function(b,c){var d=$(c).data("svg");if(a.canShowSvgAnimations()){var e=$pathImgAssets+"i/mkt/technology/svg/unique/svg-"+d+".svg";SvgLoader.load(e,function(b){c.outerHTML=b,a.animations[d].play()})}else{var f=$pathImgAssets+"i/mkt/technology/svg/raster/svg-"+d+"__2.png";Preload.image({0:f},function(a,b){var d=$("<img/>");d[0].src=b,$(c).replaceWith(d)})}})},resizeEndHandler:function(){this.headerScene&&this.headerScene.duration(this.$header.outerHeight())},canShowSvgAnimations:function(){return!w.device.mobile&&"ms msie"!==w.browser.name}};w.autoHandle(SubpageAnimationController);var Subpage={initHandler:function(){storageAvailable("localStorage")&&$(".sp-intro__back").click(function(){localStorage.removeItem("avastTechnologyHomepageState")})}};w.autoHandle(Subpage);
//# sourceMappingURL=sub.js.map